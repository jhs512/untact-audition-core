<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="com.audictionary.dao.RecruitDao">
	<insert id="doWrite" useGeneratedKeys="true" keyProperty="id">
		INSERT INTO recruitment SET
		regDate = NOW(), updateDate = NOW(),
		title = #{title},
		`body` = #{body},
		memberId = #{memberId},
		boardId = #{boardId},
		location = #{location},
		period = #{period},
		deadline = #{deadline},
		manager = #{manager}
	</insert>
	
	<insert id="doWriteArtwork" useGeneratedKeys="true" keyProperty="id">
		INSERT INTO artwork SET
		regDate = NOW(), updateDate = NOW(),
		recruitmentId = #{newRecruitmentId},
		`name` = #{artworkName},
		genre = #{genre},
		corp = #{corp},
		director = #{director}
		<if test="artworkEtc != null">
			, etc = #{artworkEtc}
		</if>
	</insert>
	
	<insert id="doWriteActingRole" useGeneratedKeys="true" keyProperty="id">
		INSERT INTO actingRole SET
		regDate = NOW(), updateDate = NOW(),
		recruitmentId = #{newRecruitmentId},
		realName = #{roleRealName},
		`name` = #{roleName},
		pay = #{pay},
		age = #{roleAge},
		job = #{roleJob},
		gender = #{roleGender},
		scriptStatus = #{roleScript},
		scenesCount = #{roleSceneCount},
		shootingsCount = #{roleShootingCount}
		<if test="actingRoleEtc != null">
			, etc = #{actingRoleEtc}
		</if>
	</insert>
	
	<select id="getListForPrint" resultType="Recruit">
		SELECT * FROM recruitment
	</select>
</mapper>